<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.4.1 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>DatSci Awards 2017 - Siobhán Grayson</title>




<meta name="description" content="A guest post for DatSci Awards where I demonstrate some simple natural language processing techniques such as sentiment analysis, TF-IDF, and Topic Modelling.">




<meta name="author" content="Siobhán Grayson">

<meta property="og:locale" content="en">
<meta property="og:site_name" content="Siobhán Grayson">
<meta property="og:title" content="DatSci Awards 2017">


  <link rel="canonical" href="http://github.com/pages/graysons/graysons-github-site/datsci2017/">
  <meta property="og:url" content="http://github.com/pages/graysons/graysons-github-site/datsci2017/">



  <meta property="og:description" content="A guest post for DatSci Awards where I demonstrate some simple natural language processing techniques such as sentiment analysis, TF-IDF, and Topic Modelling.">



  <meta name="twitter:site" content="@siobhan_grayson">
  <meta name="twitter:title" content="DatSci Awards 2017">
  <meta name="twitter:description" content="A guest post for DatSci Awards where I demonstrate some simple natural language processing techniques such as sentiment analysis, TF-IDF, and Topic Modelling.">
  <meta name="twitter:url" content="">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="/assets/images/datsci-2017.jpg">
    
  

  
    <meta name="twitter:creator" content="@Siobhán Grayson">
  



  

  



  <meta property="og:image" content="/assets/images/datsci-2017.jpg">



  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-09-01T00:00:00+01:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Siobhán Grayson",
      "url" : "http://github.com/pages/graysons/graysons-github-site",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Siobhán Grayson Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->
<!-- <link rel="shortcut icon" type="image/x-icon" href="favicon/favicon.ico" > -->

<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/manifest.json">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/favicons/favicon.ico">
<meta name="msapplication-config" content="/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->

  </head>

  <body class="layout--single-post">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/"><img class="title-logo" border="0" alt="cat-logo.png" src="/assets/images/cat-logo.png" width="30" height="30">Siobhán Grayson</a>
        <ul class="visible-links">
          
            

            
            
              <li class="masthead__menu-item"><a href="/about/">About</a></li>
            
            <!-- <li class="masthead__menu-item"><a href="/about/">About</a></li> -->
          
            

            
            
              <li class="masthead__menu-item"><a href="/publications/">Publications</a></li>
            
            <!-- <li class="masthead__menu-item"><a href="/publications/">Publications</a></li> -->
          
            

            
            
              <li class="masthead__menu-item active-blog"><a href="/">Blog</a></li>
            
            
            <!-- <li class="masthead__menu-item"><a href="/">Blog</a></li> -->
          
        </ul>
        <button><div class="navicon"></div></button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    
  







<div class="page__hero--overlay"
  style=" background-image: url('/assets/images/datsci-2017.jpg');"
>
  
    <div class="wrapper">
      
      <h1 class="post__notitle" itemprop="headline"><span>
        
          DatSci Awards 2017

        
      <span></h1>
      

      
        <p class="post__lead">A guest post for DatSci Awards where I demonstrate some simple natural language processing techniques such as sentiment analysis, TF-IDF, and Topic Modelling.
</p>
      
      
      
    </div>
  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  

<div itemscope itemtype="http://schema.org/Person">

 <!-- SG: Div added to center avatar ect in larger div  -->
 <div class = "author__all" >

    
      <div class="author__avatar">
        
          <img src="/assets/images/bio-photo.jpg" class="author__avatar" alt="Siobhán Grayson" itemprop="image">
        
      </div>
    

    <div class="author__content">
      <h3 class="author__name" itemprop="name">Siobhán Grayson</h3>
      
        <p class="author__bio" itemprop="description">
          PhD Researcher in Computer Science. PyData Dublin organiser.
        </p>
      
    </div>

    <div class="author__urls-wrapper">
      <button class="btn btn--inverse" role="button">Follow</button>
      <ul class="author__urls social-icons">
        
          <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
            <i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> <span itemprop="name">Dublin, Ireland</span>
          </li>
        

        

        

        

        
          <li>
            <a href="https://twitter.com/siobhan_grayson" itemprop="sameAs" target="_blank">
              <i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter
            </a>
          </li>
        

        

        

        
          <li>
            <a href="https://www.linkedin.com/in/siobhangrayson" itemprop="sameAs" target="_blank">
              <i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn
            </a>
          </li>
        

        

        

        

        

        
          <li>
            <a href="https://github.com/graysons" itemprop="sameAs" target="_blank">
              <i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub
            </a>
          </li>
        

        

        

        

        

        

        

        

        

        

        

        

        

        <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fa fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->

<li>
  <a href="https://scholar.google.com/citations?user=BQPowfgAAAAJ&hl=en" target="_blank">
    <i class="fa fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar
  </a>
</li>

<li>
  <a href="http://www.maths.tcd.ie/~graysons/" target="_blank">
    <i class="fa fa-fw fa-chevron-right" aria-hidden="true"></i> Another Version
  </a>
</li>

<li>
  <a href="https://www.insight-centre.org/users/siobhan-grayson" target="_blank">
    <i class="fa fa-fw fa-briefcase" aria-hidden="true"></i> Employer
  </a>
</li>


<li>
  <a href="http://orcid.org/0000-0001-8314-3709" target="_blank">
    <i class="fa fa-fw fa-id-badge" aria-hidden="true"></i> ORCID
  </a>
</li>

      </ul>
    </div>
  </div> <!-- end of author__all div by SG -->
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="DatSci Awards 2017">
    <meta itemprop="description" content="A guest post for DatSci Awards where I demonstrate some simple natural language processing techniques such as sentiment analysis, TF-IDF, and Topic Modelling.">
    <meta itemprop="datePublished" content="September 01, 2017">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        <h6 id="guest-post-for-datsci-awards-2017">Guest Post for DatSci Awards 2017</h6>

<p>As a finalist for <a href="http://irishtechnews.ie/countdown-to-the-annual-datsci-awards/" target="_blank">Data Science Student of the Year</a>, I was invited to write a guest blog post for the <a href="https://www.datsciawards.ie/" target="_blank">DatSci Awards</a>. I had a lot of ideas but wasn’t entirely sure what would be most suitable. To get inspiration, I decided it would be a good idea to review what other DatSci bloggers had submitted before me (see <a href="https://www.datsciawards.ie/news/" target="_blank">here</a> for previous posts). One way to do this is to <a href="https://en.wikipedia.org/wiki/Close_reading" target="_blank">close read</a> each post in turn. Another way is to take a <a href="http://www.nytimes.com/2011/06/26/books/review/the-mechanic-muse-what-is-distant-reading.html?mcubz=1" target="_blank">distant reading</a> perspective, an approach which facilitates higher level comparisons to be made across all posts. In this case, I went with the latter as it allows me to demonstrate some simple text analysis techniques that can be used to gain insights about the type of blog posts being submitted.</p>

<h2 id="collect-the-data">Collect the Data</h2>

<p>The first step in this approach is to collect the data for our corpus. In this case, I used a Python package called <a href="https://doc.scrapy.org/en/latest/intro/overview.html" target="_blank">Scrapy</a>:</p>

<blockquote>
  <p>Scrapy is an application framework for crawling web sites and extracting structured data which can be used for a wide range of useful applications, like data mining, information processing or historical archival.</p>
</blockquote>

<p>Scrapy has great documentation and the code below is just an adaptation of the sample spider project they walk through on their <a href="https://doc.scrapy.org/en/latest/intro/tutorial.html" target="_blank">tutorial page</a>. The details that needed to be tailored specifically for the DatSci Awards site were the <a href="https://doc.scrapy.org/en/latest/topics/selectors.html" target="_blank">CSS Selectors</a>. In order to know which parts of the page I needed to collect, I had to inspect the tags used within the site’s HTML. For example, to collect the Title of each blog post I used the following CSS Selector:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">"article h1.entry-title::text"</span><span class="p">)</span>
</code></pre>
</div>

<p>This means, return only the text contained between the <code class="highlighter-rouge">&lt;h1 class=entry-title&gt;</code> tags, which are themselves contained between the <code class="highlighter-rouge">&lt;article&gt;</code> tags of the page. The code in it’s entirety is as follows:</p>

<!-- kramdown code -->
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Import scrapy library.</span>
<span class="kn">import</span> <span class="nn">scrapy</span>

<span class="k">class</span> <span class="nc">BlogSpider</span><span class="p">(</span><span class="n">scrapy</span><span class="o">.</span><span class="n">Spider</span><span class="p">):</span>
    <span class="c"># Name of spider.</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"blogs"</span>
    <span class="n">start_urls</span> <span class="o">=</span> <span class="p">[</span>
        <span class="c"># Link to home of all blog posts.</span>
        <span class="s">'https://www.datsciawards.ie/news/'</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="c"># Start on main blog page.</span>
        <span class="n">all_posts</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">"article"</span><span class="p">)</span>
        <span class="c"># Extract links to page of posts themselves.</span>
        <span class="k">for</span> <span class="n">href</span> <span class="ow">in</span> <span class="n">all_posts</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">"div.fusion-post-wrapper a.fusion-read-more::attr(href)"</span><span class="p">):</span>
            <span class="c"># Follow links to post page to extract content.</span>
            <span class="k">yield</span> <span class="n">response</span><span class="o">.</span><span class="n">follow</span><span class="p">(</span><span class="n">href</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_blog</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_blog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">extract_with_css</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>

        <span class="k">yield</span> <span class="p">{</span>
            <span class="s">'title'</span>  <span class="p">:</span> <span class="n">extract_with_css</span><span class="p">(</span><span class="s">'article h1.entry-title::text'</span><span class="p">),</span>
            <span class="c"># Third item in list is date for all pages.</span>
            <span class="s">'date'</span>   <span class="p">:</span> <span class="n">extract_with_css</span><span class="p">(</span><span class="s">'div.fusion-meta-info-wrapper span::text'</span><span class="p">)[</span><span class="mi">2</span><span class="p">],</span>
            <span class="c"># * will visit all inner tags of p and li (&lt;span&gt;&lt;strong&gt; &lt;ul&gt;&lt;ol&gt; etc) and get text.</span>
            <span class="s">'content'</span><span class="p">:</span> <span class="n">extract_with_css</span><span class="p">(</span><span class="s">'article p *::text, article div.post-content li *::text'</span><span class="p">)</span>
        <span class="p">}</span>
</code></pre>
</div>

<p>Once you have followed the guidelines for setting up a new project and have saved the code above as your spider, from your terminal, navigate to the same directory as your spider project and run:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>scrapy crawl blogs -o blogs.json
</code></pre>
</div>

<p>This will save the title, date, and text content of each post in a file called ‘blogs.json’.</p>

<h2 id="analyse-the-data">Analyse the Data</h2>

<!-- Now that we have our data, lets check it and see if we need to clean it a bit before we start to analysis the text itself. -->

<p>Now that we have our data, let’s import it into a <a href="https://www.tutorialspoint.com/python_pandas/python_pandas_dataframe.htm" target="_blank">Pandas DataFrame</a> and begin to analyse it. For this part, I have also uploaded a <a href="http://jupyter.org/" target="_blank">Juypter Notebook</a> containing the code which can be found <a href="https://github.com/graysons/datsci-blog-code/blob/master/Guest%20Blog%20Post%20for%20DatSci%202017%20-%20An%20Analysis%20of%20Previous%20Posts.ipynb" target="_blank">here</a>.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="c"># Import blogs.json into pandas dataframe.</span>
<span class="n">blog_file</span> <span class="o">=</span> <span class="s">'blogs.json'</span>
<span class="n">df_blogs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">blog_file</span><span class="p">)</span>
</code></pre>
</div>

<p>To start, I’m going to preprocess the textual content of each blog post using a Python package called <a href="https://textblob.readthedocs.io/en/dev/" target="_blank">TextBlob</a>:</p>

<blockquote>
  <p>TextBlob is a Python (2 and 3) library for processing textual data. It provides a simple API for diving into common natural language processing (NLP) tasks such as part-of-speech tagging, noun phrase extraction, sentiment analysis, classification, translation, and more.</p>
</blockquote>

<p>The TextBlob processed text is stored in new column called <code class="highlighter-rouge">blob_content</code> in our <code class="highlighter-rouge">df_blogs</code> DataFrame.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">textblob</span> <span class="kn">import</span> <span class="n">TextBlob</span>

<span class="c"># Create new column in df where each row contains a concatenation of string lists collected from blogs.</span>
<span class="n">df_blogs</span><span class="p">[</span><span class="s">'text_content'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">' '</span><span class="p">)</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="c"># Create a column in df to store the TextBlob processed text for each blog.</span>
<span class="n">df_blogs</span><span class="p">[</span><span class="s">'blob_content'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'text_content'</span><span class="p">]</span><span class="o">.</span><span class="nb">apply</span><span class="p">(</span><span class="n">TextBlob</span><span class="p">)</span>
</code></pre>
</div>

<p>To get an overall sense of the blog posts submitted to the DatSci Awards, I will visualize the word count and sentiment score of each post sorted by date. TextBlob makes this easy as it has inbuilt functions purposely built for these tasks.</p>
<ul>
  <li>To get the word count of a blog I just need to apply the TextBlob function <code class="highlighter-rouge">words</code> and find the <code class="highlighter-rouge">len()</code>.</li>
  <li>To get the sentiment score for a post, I can just use the TextBlob function <code class="highlighter-rouge">sentiment.polarity</code>.</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Create a new column containing the number of words in each post.</span>
<span class="n">df_blogs</span><span class="p">[</span><span class="s">'word_count'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'blob_content'</span><span class="p">]</span><span class="o">.</span><span class="nb">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">blog</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">blog</span><span class="o">.</span><span class="n">words</span><span class="p">))</span>
<span class="c"># Create a new column containing the sentiment polarity score for a blog.</span>
<span class="n">df_blogs</span><span class="p">[</span><span class="s">'sentiment'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'blob_content'</span><span class="p">]</span><span class="o">.</span><span class="nb">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">blog</span><span class="p">:</span> <span class="n">blog</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">polarity</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="plot-the-results">Plot the Results</h3>

<p>To plot the results sorted by date, I’ll sort <code class="highlighter-rouge">df_blogs</code> by the <code class="highlighter-rouge">date</code> column and then set it to be the index of the DataFrame. I’ll then change the format of the date using <code class="highlighter-rouge">t.strftime('%d-%m-%Y')</code> (day-month-year) to eliminate seconds, minutes, and hours from appearing in the final plots.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">df_time_sort</span><span class="p">(</span> <span class="n">df</span><span class="p">,</span> <span class="n">dcol</span> <span class="p">):</span>
    <span class="s">"""
    Function for sorting DataFrame by date column and then setting
    date column as index with a d-m-Y format.
    """</span>
    <span class="c"># Sort df by date</span>
    <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">dcol</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="c"># Set the index to equal the date.</span>
    <span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">dcol</span><span class="p">]</span>
    <span class="c"># Change format of date to day-month-year.</span>
    <span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">d-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">Y'</span><span class="p">))</span>

<span class="c"># Call the df_time_sort function.    </span>
<span class="n">df_time_sort</span><span class="p">(</span><span class="n">df_blogs</span><span class="p">,</span> <span class="s">'date'</span><span class="p">)</span>
</code></pre>
</div>

<p>For the purposes of plotting, I’ll use a Python library called <a href="https://matplotlib.org/" target="_blank">Matplotlib</a>:</p>

<blockquote>
  <p>Matplotlib is a Python 2D plotting library which produces publication quality figures in a variety of hardcopy formats and interactive environments across platforms.</p>
</blockquote>

<p>I’m also going to import the library <a href="https://seaborn.pydata.org/" target="_blank">Seaborn</a> as this will automatically apply the default Seaborn plot style which I prefer to Matplotlib’s.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">cm</span>
<span class="kn">import</span> <span class="nn">seaborn</span>
</code></pre>
</div>

<p>The following function can then be used to produce the plots displayed in Fig. A and Fig. B below.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">senti_plots</span><span class="p">(</span> <span class="n">df</span><span class="p">,</span> <span class="n">norm_range</span> <span class="p">,</span> <span class="n">filename</span> <span class="p">):</span>
    <span class="s">"""
    Function for plottting sentiment and word count figures.
    """</span>
    <span class="c"># Initate figure and set size.</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>

    <span class="c"># The range of colours that I'm going to use for my plot.</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s">'viridis'</span><span class="p">)</span>

    <span class="c"># Normalise colour range.</span>
    <span class="n">norm</span> <span class="o">=</span> <span class="n">norm_range</span>
    <span class="c"># Create scalar mappable of colour map.</span>
    <span class="n">sm</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">ScalarMappable</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">)</span>
    <span class="c"># The actual bar plotting:</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'word_count'</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'barh'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">sm</span><span class="o">.</span><span class="n">to_rgba</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'sentiment'</span><span class="p">]),</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
    <span class="n">sm</span><span class="o">.</span><span class="n">_A</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">sm</span><span class="p">);</span>

    <span class="c"># Add y-axis line</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>

    <span class="c"># Set the font size of x-axis and y-axis tick labels.</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">14</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">14</span><span class="p">)</span>

    <span class="c"># Add x-axis and y-axis labels.</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Date'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Number of Words'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>

    <span class="c"># Add 2016 and 2017 text annotation.</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">'2016'</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">3500</span><span class="p">,</span><span class="mi">13</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">3500</span><span class="p">,</span><span class="mi">13</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">24</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">'2017'</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">3500</span><span class="p">,</span><span class="mi">17</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">3500</span><span class="p">,</span><span class="mi">17</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">24</span><span class="p">)</span>

    <span class="c"># Add dividing line between 2016 and 2017 posts.</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mf">15.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'purple'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">'--'</span><span class="p">);</span>

    <span class="c"># Save figure as pdf.</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s">'tight'</span><span class="p">)</span>
</code></pre>
</div>

<p>For Fig. A, I use the following parameters when calling the function:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Normalise colour range between -1 (negative sentiment) and 1 (positive sentiment).</span>
<span class="n">norm_A</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c"># Define name of file to save figure as.</span>
<span class="n">pdf_name_A</span> <span class="o">=</span> <span class="s">'pos-sent-plot.pdf'</span>
<span class="c"># Call senti_plots function.</span>
<span class="n">senti_plots</span><span class="p">(</span> <span class="n">df_blogs</span><span class="p">,</span> <span class="n">norm_A</span><span class="p">,</span> <span class="n">pdf_name_A</span><span class="p">)</span>
</code></pre>
</div>

<p>For Fig. B, I modify the code to normalise the colour range between the minimum sentiment value and maximum sentiment value ([min sentiment = 0.102, max sentiment = 0.386]) recorded for our dataset.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Color scaled between [min sentiment = 0.102, max sentiment = 0.386].</span>
<span class="n">norm_B</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">df_blogs</span><span class="p">[</span><span class="s">'sentiment'</span><span class="p">]</span><span class="o">.</span><span class="nb">min</span><span class="p">(),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">df_blogs</span><span class="p">[</span><span class="s">'sentiment'</span><span class="p">]</span><span class="o">.</span><span class="nb">max</span><span class="p">())</span>
<span class="c"># Define name of file to save figure as.</span>
<span class="n">pdf_name_B</span> <span class="o">=</span> <span class="s">'norm-sent-plot.pdf'</span>
<span class="c"># Call senti_plots function.</span>
<span class="n">senti_plots</span><span class="p">(</span> <span class="n">df_blogs</span><span class="p">,</span> <span class="n">norm_B</span><span class="p">,</span> <span class="n">pdf_name_B</span><span class="p">)</span>
</code></pre>
</div>

<p>By executing the code above we get the following figures:</p>

<figure class="half">
    <a href="/assets/images/pos-sent-plot.png"><img src="/assets/images/pos-sent-plot.png" /></a>
    <a href="/assets/images/norm-sent-plot.png"><img src="/assets/images/norm-sent-plot.png" /></a>
    <figcaption>Fig. A: Color scaled between [-1 (negative sentiment), 1 (positive sentment)]. Fig. B: Color scaled between [min sentiment = 0.102, max sentiment = 0.386]. </figcaption>
</figure>

<p>Fig. A provides a means of comparing the sentiment of the posts against the entire range of values that are possible. In the case of TextBlob:</p>
<ul>
  <li>A value of 0 indicates a post is neutral in sentiment.</li>
  <li>Values that extend from 0 to -1 represent increasingly negative degrees of sentiment.</li>
  <li>While values that extend from 0 to +1 representing increasingly positive degrees of sentiment.</li>
</ul>

<p>In Fig. A, all blogs appear green to light green in colour, reflecting that all posts are positive in sentiment and that this positivity has carried through from 2016 into 2017. In other words, it’s a nice visual representation of the enthusiasm shared by bloggers for Data Science and the DatSci Awards.</p>

<p>To get a better idea of how sentiment varies just within the corpus itself, I then replotted the same figure but with colour values normalised between the minimum sentiment (0.102) and maximum sentiment (0.386) recorded for our dataset. In this case, two posts stand out, both appearing bright yellow in colour. We’ll come back to these later to find out what the authors were talking about.</p>

<p>Another result that stands out from the figures is that there is one post appears to be 4 times larger than the rest. To find the average word count of each post and other summary statistics, I used  <code class="highlighter-rouge">pandas.DataFrame.describe</code>:</p>

<blockquote>
  <p>Generates descriptive statistics that summarize the central tendency, dispersion and shape of a dataset’s distribution, excluding NaN values.</p>
</blockquote>

<p>by executing <code class="highlighter-rouge">df_blogs.describe()</code> to produce the table in Fig. C.</p>

<figure class="half">
    <a href="/assets/images/describe_tbl.png"><img src="/assets/images/describe_tbl.png" /></a>
    <a href="/assets/images/month_count_v.png"><img src="/assets/images/month_count_v.png" /></a>
    <figcaption>Fig. C: The table that results when the Pandas ``describe()`` function is applied to our ``df_blogs`` DataFrame.  Fig. D: A bar chart depicting the number of posts that are published each month. </figcaption>
</figure>

<ul>
  <li><strong>Count</strong> gives the number of blog posts that are currently available on the DatSci Awards website. Hence, it is the same, 29, for both the <code class="highlighter-rouge">word_count</code> and <code class="highlighter-rouge">sentiment</code> columns.</li>
  <li>The <strong>mean</strong> <code class="highlighter-rouge">word_count</code> is 838 words, while the <strong>max</strong> is 4304, which is in fact not 4, but over 5 times larger than the average post.</li>
  <li>While the <strong>min</strong> <code class="highlighter-rouge">sentiment</code> of 0.102 is indeed within the positive range of values.</li>
</ul>

<p>Fig. D depicts the number of blog posts that are published per month. We can see that the DatSci Blog was active between the months of May and September last year. This coincides with the DatSci Awards season, from the announcement of submission deadlines, right up until the awards ceremony itself held in September. In fact, the last two blog posts of 2016 occur the day after the awards ceremony held on the 22nd September 2016.</p>

<p>The next post appears at the start of May 2017, denoting the start of the new DatSci Awards season. So, even if you have no idea what the data is representing, we can see that whatever it is is seasonal. So far, 2017 has had 13 blog submissions, 7 more than for the same time period last year. Given the trend, I think it’s likely that 2017 will have a higher number of posts than 2016, but will it also beat the highest number of submissions in a month currently held by September 2016 with 10 posts? I guess we’ll have to check back in 30 days time to find out.</p>

<p>For completeness, I have included the code for producing Fig. D below. Note that <code class="highlighter-rouge">from datetime import datetime</code> is required, while the function itself is called by <code class="highlighter-rouge">month_hist(df_blogs, 'month_count.pdf')</code>.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">month_hist</span><span class="p">(</span> <span class="n">df</span><span class="p">,</span> <span class="n">filename</span> <span class="p">):</span>
    <span class="s">"""
    Function to plot the number of blog posts that occurred each month.
    """</span>
    <span class="c"># Initate figure and set size.</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

    <span class="c"># Sort df by date.</span>
    <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s">'date'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="c"># Group by year and then group by month. Then count the results and plot as a barchart.</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">df</span><span class="p">[</span><span class="s">"date"</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s">"date"</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="p">])</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">"bar"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'teal'</span><span class="p">,</span>  <span class="n">alpha</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>                                                                                                                        
    <span class="c"># Add x-axis line</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>

    <span class="c"># Set the font size of x-axis and y-axis tick labels.</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">14</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">14</span><span class="p">)</span>

    <span class="c"># Add x-axis and y-axis labels.</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Date'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Number of Blog Posts'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>

    <span class="c"># Change the format of how the dates display.</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">get_text</span><span class="p">()[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">()]</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s">'</span><span class="si">%</span><span class="s">Y, </span><span class="si">%</span><span class="s">m'</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">b </span><span class="si">%</span><span class="s">Y'</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

    <span class="c"># Add 2016 and 2017 text annotation.</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">'2016'</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">24</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">'2017'</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">24</span><span class="p">)</span>

    <span class="c"># Add dividing line between 2016 and 2017 posts.</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">'--'</span><span class="p">);</span>

    <span class="c"># Save figure as pdf.</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s">'tight'</span><span class="p">)</span>
</code></pre>
</div>

<h2 id="what-are-datsci-bloggers-writing-about">What are DatSci Bloggers Writing about?</h2>

<p>So far, we know:</p>

<ul>
  <li>When DatSci bloggers like to post,</li>
  <li>How long their posts tend to be, and</li>
  <li>The sentiment of their posts.</li>
</ul>

<p>But we still have no idea as to what they’re actually writing about. As of right now, if you didn’t know the source of the data, it could be anything from summer travel diaries to movie reviews (where all the movies so far have been good). Or even if you do know the source, posts could still be potentially irrelevant to the DatSci Awards themselves. To address this, I’m going to apply a method known as <a href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf" target="_blank">Term Frequency-Inverse Document Frequency</a> or TF-IDF for short:</p>

<blockquote>
  <p>A numerical statistic that is intended to reflect how important a word is to a document in a collection or corpus.</p>
</blockquote>

<p>This will allow us to examine what words are most important for individual blog posts in comparison to the overall corpus, and hence, will give a sense of the different topics DatSci bloggers like to cover.</p>

<p><strong>Note 1:</strong> A portion of the code I will use next is an adaption of Steven Loria’s implementation which conveniently uses TextBlob, and who has written an informative blog post on the topic which can be found <a href="http://stevenloria.com/finding-important-words-in-a-document-using-tf-idf/" target="_blank">here</a>. Comments at the start of code cells will denote when content has been adapted from Loria’s implementation.<br />
<strong>Note 2:</strong> For those familiar with <a href="http://scikit-learn.org/stable/index.html" target="_blank">scikit-learn</a> you might prefer <a href="http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html" target="_blank"><code class="highlighter-rouge">sklearn.feature_extraction.text.TfidfVectorizer</code></a>.</p>

<p>Before applying TF-IDF I’m going to further preprocessor the corpus by removing common words such as <em>the</em>, <em>and</em>, <em>I</em>, <em>my</em>, <em>is</em> etc. These words are known as <a href="https://nlp.stanford.edu/IR-book/html/htmledition/dropping-common-terms-stop-words-1.html" target="_blank">Stop Words</a> and are usually removed as they generally provide little value when attempting to classify the content of a document. To do this, I will use the Python library <a href="http://www.nltk.org/" target="_blank">Natural Language Toolkit</a> (NLTK) stopword list.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>

<span class="c"># Use English stop words from NLTK</span>
<span class="n">stopwords</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s">'english'</span><span class="p">)</span>
<span class="c"># Convert text content into tokens (each word is a seperate item in a list.)</span>
<span class="n">df_blogs</span><span class="p">[</span><span class="s">'text_content'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'text_content'</span><span class="p">]</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'[^</span><span class="err">\</span><span class="s">w</span><span class="err">\</span><span class="s">s]'</span><span class="p">,</span><span class="s">''</span><span class="p">)</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="c"># Remove stop words from content and store in a new column: nsw_content. (no-stop-words_content)</span>
<span class="n">df_blogs</span><span class="p">[</span><span class="s">'nsw_content'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'text_content'</span><span class="p">]</span><span class="o">.</span><span class="nb">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="p">])</span>
<span class="c"># Convert stop word free text content into a TextBlob oject ready for TF-IDF</span>
<span class="n">df_blogs</span><span class="p">[</span><span class="s">'blob_nsw_content'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'nsw_content'</span><span class="p">]</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">' '</span><span class="p">)</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="nb">apply</span><span class="p">(</span><span class="n">TextBlob</span><span class="p">)</span>
</code></pre>
</div>

<p>The following functions are taken from Steven Loria’s <a href="http://stevenloria.com/finding-important-words-in-a-document-using-tf-idf/" target="_blank">blog post</a> will be used to compute the TF-IDF for each document.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Adapted from http://stevenloria.com/finding-important-words-in-a-document-using-tf-idf/</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">tfidf</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">blob</span><span class="p">,</span> <span class="n">bloblist</span><span class="p">):</span>
    <span class="s">"""
    Computes the TF-IDF score. It is simply the product of tf and idf.
    """</span>
    <span class="c"># Computes "term frequency" which is the number of times a word</span>
    <span class="c"># appears in a document blob, normalized by dividing by the</span>
    <span class="c"># total number of words in blob.</span>
    <span class="n">tf</span> <span class="o">=</span> <span class="n">blob</span><span class="o">.</span><span class="n">words</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">blob</span><span class="o">.</span><span class="n">words</span><span class="p">)</span>
    <span class="c"># Returns the number of documents containing "word".</span>
    <span class="n">n_containing</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">blob</span> <span class="ow">in</span> <span class="n">bloblist</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">blob</span><span class="o">.</span><span class="n">words</span><span class="p">)</span>
    <span class="c"># Computes "inverse document frequency" which measures how</span>
    <span class="c"># common a word is among all documents in the corpus (bloblist).</span>
    <span class="n">idf</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bloblist</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">n_containing</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">tf</span> <span class="o">*</span> <span class="n">idf</span>
</code></pre>
</div>

<p>The next code sample demonstrates how I apply the above functions to the corpus and store the top 3 most important terms in a dictionary, where the keys of the dictionary are the blog titles.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Adapted from http://stevenloria.com/finding-important-words-in-a-document-using-tf-idf/</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">tfidf_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c"># Iterate over each blog post.</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df_blogs</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="c"># Compute TF-IDF scores for all words within each blog post.</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="p">{</span><span class="n">word</span><span class="p">:</span> <span class="n">tfidf</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">row</span><span class="p">[</span><span class="s">'blob_nsw_content'</span><span class="p">],</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'blob_nsw_content'</span><span class="p">])</span>
              <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s">'blob_nsw_content'</span><span class="p">]</span><span class="o">.</span><span class="n">words</span><span class="p">}</span>
    <span class="c"># Sort the terms so that more important terms are at the start.</span>
    <span class="n">sorted_words</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="c"># Concatenation list of strings in blog title column.</span>
    <span class="n">title</span> <span class="o">=</span> <span class="p">(</span><span class="s">' '</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s">'title'</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="c"># Save the top 3 terms for each blog as dictionary value where key is the title of the blog they are from.</span>
    <span class="n">tfidf_dict</span><span class="p">[</span><span class="n">title</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">sorted_words</span><span class="p">[:</span><span class="mi">3</span><span class="p">]]</span>
</code></pre>
</div>

<p>The TF-IDF dictionary is then converted into a DataFrame and merged, using the <code class="highlighter-rouge">title</code> column, to the original DataFrame.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Concatenate sentence lists within blog titles.</span>
<span class="n">df_blogs</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_blogs</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">''</span><span class="p">)</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="c"># Store tf-idf dictionary created in the previous step into it's own Pandas DataFrame.</span>
<span class="n">df_tfidf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tfidf_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">'title'</span><span class="p">,</span> <span class="s">'tfidf_words'</span><span class="p">])</span>
<span class="c"># Merge using title column the TF-IDF DataFrame with the original to create a new DataFrame.</span>
<span class="n">df_mblogs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_blogs</span><span class="p">,</span> <span class="n">df_tfidf</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s">"title"</span><span class="p">)</span>
<span class="c"># Call the time sort function defined earlier.</span>
<span class="n">df_time_sort</span><span class="p">(</span><span class="n">df_mblogs</span><span class="p">,</span> <span class="s">'date'</span><span class="p">)</span>
</code></pre>
</div>

<p>Finally, I adapted the previous sentiment plotting function, <code class="highlighter-rouge">senti_plots</code>, such that the top three most important words for each post would appear over their respective bar. In particular,</p>

<ul>
  <li>I added <code class="highlighter-rouge">alpha = 0.6</code> so that colours would be lighter,</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># The actual bar plotting:</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'word_count'</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'barh'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">sm</span><span class="o">.</span><span class="n">to_rgba</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'sentiment'</span><span class="p">]),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
</code></pre>
</div>

<ul>
  <li>A <code class="highlighter-rouge">for</code> loop for annotating each post with their respective TF-IDF terms,</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Annotate tfidf terms onto each post.</span>
    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        <span class="n">val_anno</span> <span class="o">=</span> <span class="n">val</span> <span class="o">-</span> <span class="mf">0.15</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">((</span><span class="s">' | '</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'tfidf_words'</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">val</span><span class="p">]),</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="n">val_anno</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="n">val_anno</span><span class="p">),</span>
                    <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">weight</span> <span class="o">=</span> <span class="s">'bold'</span><span class="p">)</span>
</code></pre>
</div>

<ul>
  <li>I changed Seaborn’s style to remove the grey grid background so that text is more legible, and</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Change Seaborn style to a white background so that text is more legible.</span>
    <span class="n">sb</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s">"whitegrid"</span><span class="p">,</span> <span class="p">{</span><span class="s">'axes.grid'</span> <span class="p">:</span> <span class="bp">False</span><span class="p">})</span>
    <span class="c"># Remove grey spline edges that occur as a result of changing seaborn style.</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">);</span>
</code></pre>
</div>

<ul>
  <li>The adapted function was then called using:</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Define name of file to save figure as.</span>
<span class="n">pdf_name_C</span> <span class="o">=</span> <span class="s">'norm-sent-plot-terms.pdf'</span>
<span class="c"># Call senti_plot_terms function.</span>
<span class="n">senti_plot_terms</span><span class="p">(</span> <span class="n">df_mblogs</span><span class="p">,</span> <span class="n">norm_B</span><span class="p">,</span> <span class="n">pdf_name_C</span><span class="p">)</span>
</code></pre>
</div>

<p>Which resulted in the following plot, Fig. E:</p>

<figure>
    <a href="/assets/images/norm-sent-plot-terms.png"><img src="/assets/images/norm-sent-plot-terms.png" /></a>
    <figcaption>Fig. E: Color represents sentiment values scaled between [min sentiment = 0.102, max sentiment = 0.386]. Bar length = word count of blog post. Three words overlaying each bar are the top 3 TF-IDF terms for that post.</figcaption>
</figure>

<p>Immediately, our original sentiment figure becomes even more informative:</p>

<ul>
  <li>The last post of 2016 is about who won: “winner - datsciawards - 22”.</li>
  <li>The longest post has: “pb (personal best) - runner - pacing” which aligns with Barry Smyth’s guest blog titled <em>Using AI to Run your Best Marathon.</em></li>
  <li>We can now also see what the post with the highest positive sentiment is about: “oisin - ceadar - boydell”. This is in fact a post by a previous winner, Oisin Boydell, describing what it is like to have won as a part of the CeADAR research team.</li>
  <li>Finally, another nice finding, especially as someone that will be attending the awards this year, is that the sentiment of the posts by Paul Hayes, DatSci Awards compère, increases from 2016 (15-09-2017) to 2017 (31-08-2017). Clearly, the DatSci Awards were a lot of fun last year, as even the compère can’t hide their excitement for this years event!</li>
</ul>

<h3 id="topic-modeling">Topic Modeling</h3>

<p>The very last type of text analysis I’m going to conduct is known as <a href="http://www.kdnuggets.com/2016/07/text-mining-101-topic-modeling.html" target="_blank">Topic Modeling</a>:</p>

<blockquote>
  <p>Topic modeling can be described as a method for finding a group of words (i.e topic) from a collection of documents that best represents the information in the collection.</p>
</blockquote>

<p>Hence, although TF-IDF has provided insight into what individual posts are about, topic modeling builds on TF-IDF to learn what topics are common across multiple posts. In addition, since there are two years of data available, we can also investigate whether these topics changed between 2016 and 2017. Therefore, for this task I’m going to use a method known as <a href="https://arxiv.org/abs/1607.03055" target="_blank">Dynamic Topic Modeling via Non-negative Matrix Factorization</a>, an approach developed by <a href="http://www.derekgreene.com/" target="_blank">Dr. Derek Greene</a> from the <a href="https://www.insight-centre.org/" target="_blank">Insight Centre for Data Analytics</a>, who in the spirit of open science has made the <a href="https://github.com/derekgreene/dynamic-nmf" target="_blank">code</a> freely available online.</p>

<p>First, I need to prepare the data so that it’s in a suitable format for the library to work. To keep things simple I’m going to break the data into two different time windows, one for each year.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Directory names</span>
<span class="n">dir_16</span> <span class="o">=</span> <span class="s">'data/blogs/year2016/'</span>
<span class="n">dir_17</span> <span class="o">=</span> <span class="s">'data/blogs/year2017/'</span>

<span class="c"># Check if directories exist, if not, create.</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dir_16</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dir_17</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c"># Label files with uniques id numbers.</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="c"># 2016</span>
<span class="n">j</span> <span class="o">=</span> <span class="mi">1</span> <span class="c"># 2017</span>

<span class="c"># Iterate over each row in dataframe and store each blog's content in it's own file.</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df_blogs</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="k">if</span> <span class="s">'2016'</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s">'date'</span><span class="p">]):</span>
        <span class="n">blog_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_16</span><span class="o">+</span><span class="s">'2016_document_'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="s">'.txt'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">blog_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_17</span><span class="o">+</span><span class="s">'2017_document_'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span><span class="o">+</span><span class="s">'.txt'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
        <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">blog_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s">'text_content'</span><span class="p">])</span>
    <span class="n">blog_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>

<p>Now I can start to follow the steps outlined in the <a href="https://github.com/derekgreene/dynamic-nmf" target="_blank">ReadMe</a> for the library.</p>

<p><strong>Step 1</strong> Navigate to the directory <code class="highlighter-rouge">dynamic-nmf-master</code> and execute the following:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">python</span> <span class="n">prep</span><span class="o">-</span><span class="n">text</span><span class="o">.</span><span class="n">py</span> <span class="n">data</span><span class="o">/</span><span class="n">blogs</span><span class="o">/</span><span class="n">year2016</span> <span class="n">data</span><span class="o">/</span><span class="n">blogs</span><span class="o">/</span><span class="n">year2017</span> <span class="o">-</span><span class="n">o</span> <span class="n">data</span> <span class="o">--</span><span class="n">tfidf</span> <span class="o">--</span><span class="n">norm</span>
</code></pre>
</div>

<p><strong>Step 2</strong> I’m going to set k=2 so that the algorithm looks for 2 topics:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">python</span> <span class="n">find</span><span class="o">-</span><span class="n">window</span><span class="o">-</span><span class="n">topics</span><span class="o">.</span><span class="n">py</span> <span class="n">data</span><span class="o">/*.</span><span class="n">pkl</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span> <span class="o">-</span><span class="n">o</span> <span class="n">out</span>
</code></pre>
</div>

<p><strong>Step 3</strong> Finally, to view the results (see Fig. F and Fig. G) run:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">python</span> <span class="n">display</span><span class="o">-</span><span class="n">topics</span><span class="o">.</span><span class="n">py</span> <span class="n">out</span><span class="o">/</span><span class="n">year2016_windowtopics_k02</span><span class="o">.</span><span class="n">pkl</span> <span class="n">out</span><span class="o">/</span><span class="n">year2017_windowtopics_k02</span><span class="o">.</span><span class="n">pkl</span>
</code></pre>
</div>

<figure class="half">
    <a href="/assets/images/2016_tbl_d2.png"><img src="/assets/images/2016_tbl_d2.png" /></a>
    <a href="/assets/images/2017_tbl_d2.png"><img src="/assets/images/2017_tbl_d2.png" /></a>
    <figcaption>Fig. F: The two 2016 topics found. Fig. G: How the two topics from 2016 look in 2017. </figcaption>
</figure>

<p>At first glance, the two topics in 2016 look very similar. So to make it a little more obvious and see if there are two distinct topics present, lets just look at the non-overlapping terms:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">2016 Topic 1</th>
      <th style="text-align: center">2016 Topic 2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Ireland <br /> Analytics <br /> Companies <br /> Research</td>
      <td style="text-align: center">Awards <br /> DatSci <br /> September <br /> Event</td>
    </tr>
  </tbody>
</table>

<p>From the above table, the two topics that underlie the posts of 2016 become a bit clearer. Topic 1 appears to be concerned with analytics in Ireland in general, and how it is applied by both companies and research. Topic 2 is much more centered on the event of the DatSci Awards itself, taking place in September.</p>

<p>Both topics then shift in 2017 to become identical in their focus. How they change, in my opinion, is a reflection of how the relevance of the DatSci Awards has already been established in the previous year. There is no need to explain that data analytics is present in Ireland as they have already made that fact clear. Therefore, more concentration can now be placed on the event itself and the value that it brings to the Irish data science community, rather than having to prove that a data science community in Ireland exists.</p>

<h2 id="conclusion">Conclusion</h2>

<p>To conclude, although this post has turned out slightly longer then I originally intended, I hope it has been informative both from an implementation point-of-view, and from the insights that were made along the way. It’s been great to get a bird’s-eye view of the diverse range of topics being covered by DatSci bloggers, and also visualise how the DatSci awards have inspired such positivity. For the complete code implementation and data behind this post, the repository can be found <a href="https://github.com/graysons/datsci-blog-code" target="_blank">here</a>.
If you’re interested in learning more about the different open source libraries and tools available to data scientists, and how they’re implemented, then you should pop along to one of the PyData Dublin Meetups. These are held monthly and details of the next event can be found <a href="https://www.meetup.com/PyDataDublin/" target="_blank">here</a>.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#blog" class="page__taxonomy-item" rel="tag">blog</a>
    
    </span>
  </p>





        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-09-01T00:00:00+01:00">September 01, 2017</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=siobhan_grayson&text=DatSci Awards 2017 /datsci2017/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=/datsci2017/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=/datsci2017/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=/datsci2017/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
    </div>

    
      <div class="page__comments">
  
  
    <h4 class="page__comments-title">Leave a Comment</h4>
    <section id="disqus_thread"></section>
  
</div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/siobhan_grayson"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/graysons"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2017 Siobhán Grayson. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <!-- <script src="/assets/js/main.min.js"></script> -->

<script src="/assets/jquery/dist/jquery.min.js"></script>
<script src="/assets/tether/dist/js/tether.min.js"></script>
<script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>

<script src="/assets/js/main.min.js"></script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-98290467-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>






  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'sblogg';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






  </body>
</html>
